mcc_interaction = {
	category = interaction_category_friendly
	use_diplomatic_range = yes
	ignores_pending_interaction_block = yes
	interface_priority = 200
	common_interaction = yes
	desc = mcc_interaction.desc


	ai_will_do = {
		base = 0
	}

	is_valid = {
		OR = {
			custom_description = {
				text = not_in_same_province
				scope:actor.location = scope:recipient.location
				
			}
			scope:actor = {
				is_available_adult = yes
			}
			
		}
	}
	
	on_accept = {

	# Add
	# Add code block 1 below this comment
	# Code block 1 example
	#if = {
	#	limit = {
	#		scope:talk_scene_"sence_name" = yes
	#	}
	#	set_global_variable = {
	#		name = talk_scene
	#		value = flag:talk_scene_"sence_name"
	#	}
	#}

	# In the Chinese market
	if = {
		limit = {
			scope:talk_scene_market_east = yes
		}
		set_global_variable = {
			name = talk_scene
			value = flag:talk_scene_market_east
		}
	}

	# In the market
	if = {
		limit = {
			scope:talk_scene_market = yes
		}
		set_global_variable = {
			name = talk_scene
			value = flag:talk_scene_market
		}
	}

	# In the tavern
	if = {
		limit = {
			scope:talk_scene_tavern = yes
		}
		set_global_variable = {
			name = talk_scene
			value = flag:talk_scene_tavern
		}
	}

	# In tavern_east
	if = {
		limit = {
			scope:talk_scene_tavern_east = yes
		}
		set_global_variable = {
			name = talk_scene
			value = flag:talk_scene_tavern_east
		}
	}

		if = {
			limit = {
				scope:talk_scene_iron_throne = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_iron_throne
			}
		}
		# In Lingyin Temple
		if = {
			limit = {
				scope:talk_scene_lingyinsi = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_lingyinsi
			}
		}
		# In the Japanese Imperial Palace
		if = {
			limit = {
				scope:talk_scene_throneroom_japan = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_throneroom_japan
			}
		}
		# In Shaolin Temple
		if = {
			limit = {
				scope:talk_scene_shaolinsi = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_shaolinsi
			}
		}
		# In Wudang Mountain Taoist Temple
		if = {
			limit = {
				scope:talk_scene_wudangshandaoguan = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_wudangshandaoguan
			}
		}
		# In Yungang Grottoes
		if = {
			limit = {
				scope:talk_scene_yungangshiku = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_yungangshiku
			}
		}
		# In Leshan Giant Buddha
		if = {
			limit = {
				scope:talk_scene_leshandafou = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_leshandafou
			}
		}
		if = {
			limit = {
				scope:talk_scene_taishan = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_taishan
			}
		}
		if = {
			limit = {
				scope:talk_scene_wulingyuan = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_wulingyuan
			}
		}
		if = {
			limit = {
				scope:talk_scene_kaifenghuangcheng = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_kaifenghuangcheng
			}
		}
		if = {
			limit = {
				scope:talk_scene_tengwangge = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_tengwangge
			}
		}

		if = {
			limit = {
				scope:talk_scene_yueyanglou = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_yueyanglou
			}
		}

		if = {
			limit = {
				scope:talk_scene_huanghelou = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_huanghelou
			}
		}

		if = {
			limit = {
				scope:talk_scene_bedchamber_east1 = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_bedchamber_east1
			}
		}
		
		if = {
			limit = {
				scope:talk_scene_garden_east1 = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_garden_east1
			}
		}

		if = {
			limit = {
				scope:talk_scene_throneroom_east_fuya1 = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_throneroom_east_fuya1
			}
		}	
		if = {
			limit = {
				scope:talk_scene_throneroom_east_fuya = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_throneroom_east_fuya
			}
		}	
		if = {
			limit = {
				scope:talk_scene_throneroom_east_empire1 = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_throneroom_east_empire1
			}
		}	
		if = {
			limit = {
				scope:talk_scene_throneroom_east_empire = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_throneroom_east_empire
			}
		}	

		if = {
			limit = {
				scope:talk_scene_harem = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_harem
			}
		}

########################################################################
	
	#set talk_scene global var
		if = {
			limit = {
				scope:talk_scene_throneroom = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_throneroom
			}
		}
		if = {
			limit = {
				scope:talk_scene_garden = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_garden
			}
		}
		if = {
			limit = {
				scope:talk_scene_bedchamber = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_bedchamber
			}
		}
		if = {
			limit = {
				scope:talk_scene_dungeon = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_dungeon
			}
		}
		if = {
			limit = {
				scope:talk_scene_feast = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_feast
			}
		}
		if = {
			limit = {
				scope:talk_scene_armycamp = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_armycamp
			}
		}
		
		if = {
			limit = {
				scope:talk_scene_hunt = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_hunt
			}
		}
		
		if = {
			limit = {
				scope:talk_scene_alley = yes
			}
			set_global_variable = {
				name = talk_scene
				value = flag:talk_scene_alley
			}
		}
		
		##
		
		if = {
			limit = {
				OR = {
					# Add code block 2 below this comment
				# Code block 2 example
				#scope:talk_scene_"sence_name" = yes
				scope:talk_scene_market_east = yes
				scope:talk_scene_market = yes
				scope:talk_scene_tavern = yes
				scope:talk_scene_tavern_east = yes
				scope:talk_scene_iron_throne = yes
				scope:talk_scene_lingyinsi = yes
				scope:talk_scene_throneroom_japan = yes
				scope:talk_scene_shaolinsi = yes
				scope:talk_scene_wudangshandaoguan = yes
				scope:talk_scene_leshandafou = yes
				scope:talk_scene_taishan = yes
				scope:talk_scene_wulingyuan = yes
				scope:talk_scene_kaifenghuangcheng = yes
				scope:talk_scene_tengwangge = yes
					
					scope:talk_scene_yueyanglou = yes
					scope:talk_scene_huanghelou = yes
					scope:talk_scene_yungangshiku = yes
					scope:talk_scene_bedchamber_east1 = yes
					scope:talk_scene_garden_east1 = yes
					scope:talk_scene_throneroom_east_fuya = yes	
					scope:talk_scene_throneroom_east_fuya1 = yes
					scope:talk_scene_throneroom_east_empire1 = yes	
					scope:talk_scene_throneroom_east_empire = yes	
					# Added above	
					scope:talk_scene_harem = yes
					scope:talk_scene_throneroom = yes
					scope:talk_scene_garden = yes
					scope:talk_scene_bedchamber = yes
					scope:talk_scene_dungeon = yes
					scope:talk_scene_feast = yes
					scope:talk_scene_armycamp = yes
					scope:talk_scene_hunt = yes
					scope:talk_scene_alley = yes
				}
			}
			scope:actor = { 
				trigger_event = mcc_event.9001
			}
		}
		else = {
			if = {
				limit = {
					scope:talk_travel = yes
				}
				
				scope:actor = {
					start_travel_plan = {
					destination = scope:recipient.location
					on_arrival_event = mcc_event.1001
					}
				}
				
			}
			
		}
		
		
	}

	# Add code block 3 below this comment
	# Code block 3 example
	## Scene name comment
	#	send_option = {
	#	is_shown = {can_talk_in_sence_"sence_name" = yes}
	#	flag = talk_scene_"sence_name"
	#	localization = talk_scene_"sence_name"_string
	#}
	# In the Chinese market
	send_option = {
		is_shown = {can_talk_in_market_east = yes}
		flag = talk_scene_market_east
		localization = talk_scene_market_east_string
	}
	# In the market
	send_option = {
		is_shown = {can_talk_in_market = yes}
		flag = talk_scene_market
		localization = talk_scene_market_string
	}
	# In the tavern
	send_option = {
		is_shown = {can_talk_in_tavern = yes}
		flag = talk_scene_tavern
		localization = talk_scene_tavern_string
	}
	# In tavern_east
	send_option = {
		is_shown = {can_talk_in_tavern_east = yes}
		flag = talk_scene_tavern_east
		localization = talk_scene_tavern_east_string
	}
	# In the Iron Throne
	send_option = {
		is_shown = {can_talk_in_iron_throne = yes}
		flag = talk_scene_iron_throne
		localization = talk_scene_iron_throne_string
	}
	# In Lingyin Temple
	send_option = {
		is_shown = {can_talk_in_lingyinsi = yes}
		flag = talk_scene_lingyinsi
		localization = talk_scene_lingyinsi_string
	}
	# In the Japanese Imperial Palace
	send_option = {
		is_shown = {can_talk_in_throneroom_japan = yes}
		flag = talk_scene_throneroom_japan
		localization = talk_scene_throneroom_japan_string
	}
	# In Shaolin Temple
	send_option = {
		is_shown = {can_talk_in_shaolinsi = yes}
		flag = talk_scene_shaolinsi
		localization = talk_scene_shaolinsi_string
	}
	# In Wudang Mountain Taoist Temple
	send_option = {
		is_shown = {can_talk_in_wudangshandaoguan = yes}
		flag = talk_scene_wudangshandaoguan
		localization = talk_scene_wudangshandaoguan_string
	}
	# In Leshan Giant Buddha
	send_option = {
		is_shown = {can_talk_in_leshandafou = yes}
		flag = talk_scene_leshandafou
		localization = talk_scene_leshandafou_string
	}
	# In Mount Tai
	send_option = {
		is_shown = {can_talk_in_taishan = yes}
		flag = talk_scene_taishan
		localization = talk_scene_taishan_string
	}
	# In Wulingyuan
	send_option = {
		is_shown = {can_talk_in_wulingyuan = yes}
		flag = talk_scene_wulingyuan
		localization = talk_scene_wulingyuan_string
	}
	# In Kaifeng Imperial City
	send_option = {
		is_shown = {can_talk_in_kaifenghuangcheng = yes}
		flag = talk_scene_kaifenghuangcheng
		localization = talk_scene_kaifenghuangcheng_string
	}
	# In Tengwang Pavilion
	send_option = {
		is_shown = {can_talk_in_tengwangge = yes}
		flag = talk_scene_tengwangge
		localization = talk_scene_tengwangge_string
	}

	# In Yueyang Tower
	send_option = {
		is_shown = {can_talk_in_yueyanglou = yes}
		flag = talk_scene_yueyanglou
		localization = talk_scene_yueyanglou_string
	}

	# In Yellow Crane Tower
	send_option = {
		is_shown = {can_talk_in_huanghelou = yes}
		flag = talk_scene_huanghelou
		localization = talk_scene_huanghelou_string
	}
	
	# In the bedroom
	send_option = {
		is_shown = {can_talk_in_bedchamber_east1 = yes}
		flag = talk_scene_bedchamber_east1
		localization = talk_scene_bedchamber_east1_string
	}
		
	# Meet in the Imperial Garden
	send_option = {
		is_shown = {can_talk_in_garden_east1 = yes}
		flag = talk_scene_garden_east1
		localization = talk_scene_garden_east1_string
	}

	# Audience in the government office
	send_option = {
		
		is_shown = {can_talk_in_throneroom_east_fuya1 = yes}
		flag = talk_scene_throneroom_east_fuya1
		localization = talk_scene_throneroom_east_fuya1_string
	}

	# Meet in the government office
	send_option = {
		
		is_shown = {can_talk_in_throneroom_east_fuya = yes}
		flag = talk_scene_throneroom_east_fuya
		localization = talk_scene_throneroom_east_fuya_string
	}

	# Audience in the Imperial Palace
	send_option = {
		
		is_shown = {can_talk_in_throneroom_east_empire = yes}
		flag = talk_scene_throneroom_east_empire
		localization = talk_scene_throneroom_east_empire_string
	}

	# Summoned to the Imperial Palace
	send_option = {
		
		is_shown = {can_talk_in_throneroom_east_empire1 = yes}
		flag = talk_scene_throneroom_east_empire1
		localization = talk_scene_throneroom_east_empire1_string
	}
	# In Yungang Grottoes
	send_option = {
		is_shown = {can_talk_in_yungangshiku = yes}
		flag = talk_scene_yungangshiku
		localization = talk_scene_yungangshiku_string
	}
	# In the harem
	send_option = {
		is_shown = {can_talk_in_harem = yes}
		flag = talk_scene_harem
		localization = talk_scene_harem_string
	}
	##############################################
	send_option = {
		is_shown = {can_talk_in_throneroom = yes}
		flag = talk_scene_throneroom
		localization = talk_scene_throneroom_string
	}
	
	send_option = {
		is_shown = {can_talk_in_garden = yes}
		flag = talk_scene_garden
		localization = talk_scene_garden_string
	}
	
	send_option = {
		is_shown = {can_talk_in_bedchamber = yes}
		flag = talk_scene_bedchamber
		localization = talk_scene_bedchamber_string
	}
	
	send_option = {
		is_shown = {can_talk_in_dungeon = yes}
		flag = talk_scene_dungeon
		localization = talk_scene_dungeon_string
	}
	
	send_option = {
		is_shown = {can_talk_in_feast = yes}
		flag = talk_scene_feast
		localization = talk_scene_feast_string
	}
	
	send_option = {
		is_shown = {can_talk_in_armycamp = yes}
		flag = talk_scene_armycamp
		localization = talk_scene_armycamp_string
	}
	
	send_option = {
		is_shown = {can_talk_in_hunt = yes}
		flag = talk_scene_hunt
		localization = talk_scene_hunt_string
	}
	
	send_option = {
		is_shown = {can_talk_in_alley = yes}
		flag = talk_scene_alley
		localization = talk_scene_alley_string
	}
	
	send_option = {
		is_shown = {
			NOT = {scope:actor.location = scope:recipient.location}
		}
		flag = talk_travel
	}
	
	
	on_accept = {
		scope:actor = {
			trigger_event = mcc_event.1001
		}
	}
	auto_accept = yes
	
}
